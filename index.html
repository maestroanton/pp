<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Insert title here</title>
  <link rel="stylesheet" href="style.css">
  <script type="text/javascript"></script>

  <!-- BootsTrap -->
  <!--   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous">
  </script> -->
  <!-- Bootstrap -->

  <!-- ícones -->
  <script src="https://kit.fontawesome.com/a1e181d071.js" crossorigin="anonymous"></script>
  <!-- ícones -->

</head>

<body>
  <div class="container">
    <div class="music-player">
      <nav>
        <div class="circle">
          <i class="fa-solid fa-angle-left" style="color: #63728c;"></i>
        </div>
        <div class="circle">
          <i class="fa-solid fa-bars" style="color: #63728c;"></i>
        </div>
      </nav>
      <img src="media/metal2.jpg" class="song-img" id="foto">
      <h1>Metal Bucetation</h1>
      <p>Massacration</p>

      <audio id="song">
        <source src="media/metalbuce.mp3" type="audio/mpeg">
      </audio>
      <input type="range" value="0" id="progress">

      <div class="controls">
        <div>
          <i class="fa-solid fa-backward" style="color: #63728c;"></i>
        </div>
        <div onclick="playPause()">
          <i class="fa-solid fa-play" id="ctrlIcon" style="color: #63728c;"></i>
        </div>
        <div>
          <i class="fa-solid fa-forward" style="color: #63728c;"></i>
        </div>
      </div>

    </div>
  </div>

  <script>
    
    let progress = document.getElementById("progress");
    let song = document.getElementById("song");
    let ctrlIcon = document.getElementById("ctrlIcon");
    let songImg = document.getElementById("foto");

    song.onloadedmetadata = function() {
      progress.max = song.duration;
      progress.value = song.currentTime;

    }

    function playPause(){
      if(ctrlIcon.classList.contains("fa-pause")){
        song.pause();
        ctrlIcon.classList.remove("fa-pause")
        ctrlIcon.classList.add("fa-play")
        songImg.classList.remove("rotate")
      }else{
        song.play();
        ctrlIcon.classList.add("fa-pause")
        ctrlIcon.classList.remove("fa-play")
        songImg.classList.add("rotate")
      }
    }

    if(song.play()){
      setInterval(() => {
        progress.value = song.currentTime
      }, 500);
    }

    progress.onchange = function() {
      song.play();
      song.currentTime = progress.value
      ctrlIcon.classList.add("fa-pause")
      ctrlIcon.classList.remove("fa-play")
    }

  </script>

</body>

</html>